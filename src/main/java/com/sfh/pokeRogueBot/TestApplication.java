package com.sfh.pokeRogueBot;

import com.google.gson.Gson;
import com.sfh.pokeRogueBot.model.run.RunProperty;
import com.sfh.pokeRogueBot.model.run.Wave;
import com.sfh.pokeRogueBot.model.run.WavePokemon;
import com.sfh.pokeRogueBot.service.RunPropertyService;
import com.sfh.pokeRogueBot.util.JsonUtils;
import lombok.extern.slf4j.Slf4j;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ConfigurableApplicationContext;

import java.util.List;

@SpringBootApplication
@Slf4j
public class TestApplication {

    public static void main(String[] args) {
        ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);

        try {
            String json = "{\"enemyParty\":[{\"active\":true,\"aiType\":1,\"exclusive\":true,\"fieldPosition\":0,\"formIndex\":0,\"friendship\":70,\"gender\":\"FEMALE\",\"hp\":14,\"id\":3914011784,\"ivs\":{\"hp\":23,\"attack\":20,\"defense\":20,\"specialAttack\":17,\"specialDefense\":18,\"speed\":8},\"level\":2,\"luck\":0,\"metBiome\":0,\"metLevel\":2,\"moveset\":[{\"name\":\"Water Gun\",\"id\":55,\"accuracy\":100,\"category\":1,\"chance\":-1,\"defaultType\":\"WATER\",\"moveTarget\":3,\"power\":40,\"priority\":0,\"type\":\"WATER\",\"movePp\":25,\"pPUsed\":0,\"pPLeft\":25,\"isUsable\":true}],\"name\":\"Surskit\",\"nature\":\"TIMID\",\"natureOverride\":-1,\"passive\":false,\"pokerus\":false,\"position\":0,\"shiny\":false,\"species\":{\"ability1\":33,\"ability2\":0,\"abilityHidden\":44,\"baseExp\":54,\"baseFriendship\":70,\"baseStats\":{\"hp\":40,\"attack\":30,\"defense\":32,\"specialAttack\":50,\"specialDefense\":52,\"speed\":65},\"baseTotal\":269,\"canChangeForm\":false,\"catchRate\":200,\"generation\":3,\"growthRate\":2,\"height\":0.5,\"isStarterSelectable\":false,\"legendary\":false,\"malePercent\":50,\"mythical\":false,\"speciesString\":\"Pond Skater Pokémon\",\"speciesId\":283,\"subLegendary\":false,\"type1\":\"BUG\",\"type2\":\"WATER\",\"weight\":1.7},\"stats\":{\"hp\":14,\"attack\":5,\"defense\":6,\"specialAttack\":7,\"specialDefense\":7,\"speed\":8},\"status\":null,\"battleStats\":{\"hp\":0,\"attack\":0,\"defense\":0,\"specialAttack\":0,\"specialDefense\":0,\"speed\":0},\"trainerSlot\":0,\"variant\":0,\"boss\":false,\"bossSegments\":0,\"player\":false}],\"ownParty\":[{\"active\":true,\"exclusive\":true,\"fieldPosition\":0,\"formIndex\":0,\"friendship\":52,\"gender\":\"MALE\",\"hp\":14,\"id\":700593108,\"ivs\":{\"hp\":10,\"attack\":10,\"defense\":10,\"specialAttack\":10,\"specialDefense\":10,\"speed\":10},\"level\":5,\"luck\":0,\"metBiome\":-1,\"metLevel\":5,\"moveset\":[{\"name\":\"Tackle\",\"id\":33,\"accuracy\":100,\"category\":0,\"chance\":-1,\"defaultType\":\"NORMAL\",\"moveTarget\":3,\"power\":40,\"priority\":0,\"type\":\"NORMAL\",\"movePp\":35,\"pPUsed\":1,\"pPLeft\":34,\"isUsable\":true},{\"name\":\"Growl\",\"id\":45,\"accuracy\":100,\"category\":2,\"chance\":-1,\"defaultType\":\"NORMAL\",\"moveTarget\":6,\"power\":-1,\"priority\":0,\"type\":\"NORMAL\",\"movePp\":40,\"pPUsed\":0,\"pPLeft\":40,\"isUsable\":true},{\"name\":\"Vine Whip\",\"id\":22,\"accuracy\":100,\"category\":0,\"chance\":-1,\"defaultType\":\"GRASS\",\"moveTarget\":3,\"power\":45,\"priority\":0,\"type\":\"GRASS\",\"movePp\":25,\"pPUsed\":1,\"pPLeft\":24,\"isUsable\":true}],\"name\":\"Bulbasaur\",\"nature\":\"DOCILE\",\"natureOverride\":-1,\"passive\":false,\"pokerus\":false,\"position\":0,\"shiny\":false,\"species\":{\"ability1\":65,\"ability2\":0,\"abilityHidden\":34,\"baseExp\":64,\"baseFriendship\":50,\"baseStats\":{\"hp\":45,\"attack\":49,\"defense\":49,\"specialAttack\":65,\"specialDefense\":65,\"speed\":45},\"baseTotal\":318,\"canChangeForm\":false,\"catchRate\":45,\"generation\":1,\"growthRate\":3,\"height\":0.7,\"isStarterSelectable\":false,\"legendary\":false,\"malePercent\":87.5,\"mythical\":false,\"speciesString\":\"Seed Pokémon\",\"speciesId\":1,\"subLegendary\":false,\"type1\":\"GRASS\",\"type2\":\"POISON\",\"weight\":6.9},\"stats\":{\"hp\":20,\"attack\":10,\"defense\":10,\"specialAttack\":12,\"specialDefense\":12,\"speed\":10},\"status\":null,\"battleStats\":{\"hp\":0,\"attack\":0,\"defense\":0,\"specialAttack\":0,\"specialDefense\":0,\"speed\":0},\"variant\":0,\"boss\":false,\"player\":true,\"compatibleTms\":[14,15,34,36,38,70,76,92,104,113,115,133,148,156,164,173,174,182,188,189,200,202,203,204,206,207,213,214,216,218,219,237,241,249,263,267,270,282,311,331,345,402,412,437,438,447,474,496,497,520,526,580,590,803,851]},{\"active\":true,\"exclusive\":true,\"fieldPosition\":0,\"formIndex\":0,\"friendship\":50,\"gender\":\"MALE\",\"hp\":19,\"id\":595649246,\"ivs\":{\"hp\":10,\"attack\":10,\"defense\":10,\"specialAttack\":10,\"specialDefense\":10,\"speed\":10},\"level\":5,\"luck\":0,\"metBiome\":-1,\"metLevel\":5,\"moveset\":[],\"name\":\"Charmander\",\"nature\":\"QUIRKY\",\"natureOverride\":-1,\"passive\":false,\"pokerus\":false,\"position\":0,\"shiny\":false,\"species\":{\"ability1\":66,\"ability2\":0,\"abilityHidden\":94,\"baseExp\":62,\"baseFriendship\":50,\"baseStats\":{\"hp\":39,\"attack\":52,\"defense\":43,\"specialAttack\":60,\"specialDefense\":50,\"speed\":65},\"baseTotal\":309,\"canChangeForm\":false,\"catchRate\":45,\"generation\":1,\"growthRate\":3,\"height\":0.6,\"isStarterSelectable\":false,\"legendary\":false,\"malePercent\":87.5,\"mythical\":false,\"speciesString\":\"Lizard Pokémon\",\"speciesId\":4,\"subLegendary\":false,\"type1\":\"FIRE\",\"type2\":\"UNKNOWN\",\"weight\":8.5},\"stats\":{\"hp\":19,\"attack\":10,\"defense\":9,\"specialAttack\":11,\"specialDefense\":10,\"speed\":12},\"status\":null,\"battleStats\":null,\"variant\":0,\"boss\":false,\"player\":true,\"compatibleTms\":[5,7,9,14,15,25,34,36,38,46,53,70,83,91,92,104,115,126,129,156,157,164,173,174,182,184,189,200,203,206,207,213,214,216,218,231,232,237,241,242,249,251,257,261,263,264,270,280,311,314,315,317,332,337,349,374,394,406,411,421,424,468,488,496,497,512,519,525,526,590,851,915]},{\"active\":true,\"exclusive\":true,\"fieldPosition\":0,\"formIndex\":0,\"friendship\":50,\"gender\":\"MALE\",\"hp\":19,\"id\":2004002820,\"ivs\":{\"hp\":10,\"attack\":10,\"defense\":10,\"specialAttack\":10,\"specialDefense\":10,\"speed\":10},\"level\":5,\"luck\":0,\"metBiome\":-1,\"metLevel\":5,\"moveset\":[],\"name\":\"Squirtle\",\"nature\":\"HARDY\",\"natureOverride\":-1,\"passive\":false,\"pokerus\":false,\"position\":0,\"shiny\":false,\"species\":{\"ability1\":67,\"ability2\":0,\"abilityHidden\":44,\"baseExp\":63,\"baseFriendship\":50,\"baseStats\":{\"hp\":44,\"attack\":48,\"defense\":65,\"specialAttack\":50,\"specialDefense\":64,\"speed\":43},\"baseTotal\":314,\"canChangeForm\":false,\"catchRate\":45,\"generation\":1,\"growthRate\":3,\"height\":0.5,\"isStarterSelectable\":false,\"legendary\":false,\"malePercent\":87.5,\"mythical\":false,\"speciesString\":\"Tiny Turtle Pokémon\",\"speciesId\":7,\"subLegendary\":false,\"type1\":\"WATER\",\"type2\":\"UNKNOWN\",\"weight\":9},\"stats\":{\"hp\":19,\"attack\":10,\"defense\":12,\"specialAttack\":10,\"specialDefense\":11,\"speed\":9},\"status\":null,\"battleStats\":null,\"variant\":0,\"boss\":false,\"player\":true,\"compatibleTms\":[5,8,25,34,36,38,56,57,58,59,70,91,92,104,114,115,127,156,157,164,173,174,182,189,196,200,203,206,207,213,214,216,218,231,237,240,249,250,258,263,264,270,280,291,311,317,330,334,352,360,362,374,396,406,428,496,503,518,526,590,812,851]}]}";
            Gson gson = new Gson();
            WavePokemon wavePokemon = gson.fromJson(json, WavePokemon.class);
            log.info("wavePokemon: " + wavePokemon);

        } catch (Exception e) {
            log.error("Error starting the bot: " + e.getMessage(), e);
        }
    }
}
